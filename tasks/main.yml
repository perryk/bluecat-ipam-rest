---
# tasks file for bluecat-ipam-rest

- name: Prepare API and collect ID's for use later
  include: preparation.yml
  when: state == 'prepare' or state == 'preparation'
  delegate_to: localhost
  connection: local
  run_once: true

- name: Acquire IP Address
  include: acquire_ip.yml
  when: state == 'present' or state == 'acquire'
  delegate_to: localhost
  connection: local
  run_once: true

- name: Log out of API 
  include: finish.yml
  when: state == 'finish' or state == 'complete'
  delegate_to: localhost
  connection: local
  run_once: true

#- name: Lookup IP Address
#  include: lookup_ip.yml
#  when: state == 'get' or state == 'lookup'
#  delegate_to: localhost
#  connection: local
#  run_once: true

#- name: Release IP Address
#  include: release_ip.yml
#  when: state == 'absent' or state == 'release'
#  delegate_to: localhost
#  connection: local
#  run_once: true



